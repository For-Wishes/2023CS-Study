# μΈν„°λ½νΈ

> CPUκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  μμ„ λ•, μ…μ¶λ ¥ ν•λ“μ›¨μ–΄ λ“±μ μ¥μΉμ— μμ™Έμƒν™©μ΄ λ°μƒν•μ—¬ μ²λ¦¬κ°€ ν•„μ”ν•  κ²½μ°μ— CPUμ—κ² μ•λ ¤ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ” κ²ƒ
> 

## ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ

- CPU μ™Έλ¶€μ λ””μ¤ν¬ μ»¨νΈλ΅¤λ¬λ‚ μ£Όλ³€μ¥μΉλ΅λ¶€ν„° μ”κµ¬λλ” κ²ƒμΌλ΅, μ΄μμ²΄μ μ μ²λ¦¬λ¥Ό μ”ν•λ” μƒν™©μ„ μ•λ¦¬κΈ° μ„ν•΄ μ „κΈ°μ μΈ μ‹ νΈλ¥Ό μ‚¬μ©ν•΄ κµ¬ν„

### Maskable Interrupt

- Interrupt Mask(μΈν„°λ½νΈκ°€ λ°μƒν–μ„ λ• μ”κµ¬λ¥Ό λ°›μ•„λ“¤μΌμ§€ λ§μ§€ μ§€μ •ν•λ” κ²ƒ) κ°€λ¥
- ν”„λ΅κ·Έλ¨μ΄ λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„μ μ£Όμλ¥Ό 100% ν•„μ”λ΅ ν•λ” λ™μ• μΌμ‹μ μΌλ΅ κΈ°λ¥μ΄ μ €μ§€(mask)λ  μ μλ” κ²ƒ

### Non-maskable Interrupt

- Interrupt Maskμ— μν–¥μ„ λ°›μ§€ μ•λ” κ°€μ¥ μ°μ„ μμ„κ°€ λ†’μ€ μΈν„°λ½νΈ.
- ν•λ“μ›¨μ–΄ μΈν„°λ½νΈμ μΌμΆ…μΌλ΅, μ†ν”„νΈμ›¨μ–΄λ‚ ν‚¤λ³΄λ“ λ“± ν•λ“μ›¨μ–΄ μ¥μΉμ— μν•΄μ„ μƒμ„±λλ” μΈν„°λ½νΈ μ”κµ¬λ¥Ό μ°νν•κ³  κ·Έκ²ƒλ“¤λ³΄λ‹¤ μ°μ„  μμ„λ¥Ό κ°€μ§
- λ‹¤λ¥Έ μ–΄λ–¤ μ„λΉ„μ¤ κΈ°μ–µ μ¥μΉ μ¤λ¥λ‚ μ •μ „ μ‚¬νƒμ™€ κ°™μ€ κΈ‰λ°•ν• μƒν™©μ—μ„λ§ λ§μ¤ν¬ λ¶κ°€λ¥ μΈν„°λ½νΈ μ”κµ¬κ°€ λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„μ— ν•λ‹¬
- Interrupt Maskκ°€ λ¶κ°€λ¥
- **κ±°λ¶€, λ¬΄μ‹ν•  μ μ—†μ**
- μ •μ „, ν•λ“μ›¨μ–΄ κ³ μ¥ λ“± μ–΄μ©” μ μ—†λ” μ¤λ¥

### ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ μΆ…λ¥

- μ…μ¶λ ¥ μΈν„°λ½νΈ(I/O Interrupt): μ…μ¶λ ¥ μ‘μ—…μ μΆ…λ£λ‚ μ…μ¶λ ¥ μ¤λ¥μ— μν•΄ CPUμ κΈ°λ¥μ΄ μ”μ²­λ¨
- μ •μ „, μ „μ› μ΄μƒ μΈν„°λ½νΈ(Power  fail Interrupt): μ „μ› κ³µκΈ‰μ μ΄μƒ
- κΈ°κ³„ μ°©μ¤ μΈν„°λ½νΈ(Machine Check Interrupt): CPUμ κΈ°λ¥μ μΈ μ¤λ¥
- μ™Έλ¶€ μ‹ νΈ μΈν„°λ½νΈ(External Interrupt): I/O μ¥μΉκ°€ μ•„λ‹ μ¤νΌλ μ΄ν„°λ‚ νƒ€μ΄λ¨Έμ— μν•΄ μλ„μ μΌλ΅ ν”„λ΅κ·Έλ¨μ΄ μ¤‘λ‹¨λ κ²½μ°

## μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ

- μ™Έλ¶€κ°€ μ•„λ‹ CPU λ‚΄λ¶€μ—μ„ μμ‹ μ΄ μ‹¤ν–‰ν• λ…λ Ήμ΄λ‚ CPUμ λ…λ Ή μ‹¤ν–‰μ— κ΄€λ ¨λ λ¨λ“μ΄ λ³€ν™”ν•λ” κ²½μ° λ°μƒ
- ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘ ν”„λ΅κ·Έλ¨μƒμ μ²λ¦¬ λ¶κ°€λ¥ν• μ¤λ¥λ‚ μ΄λ²¤νΈλ¥Ό μ•λ¦¬κΈ° μ„ν• κ²½μ° λ°μƒ
    - νΈλ©(Trap) λλ” μμ™Έ(Exception)μ΄λΌ λ¶€λ¦„
- ν”„λ΅κ·Έλ¨ μ¤λ¥μ— μν•΄ μƒκΈ°λ” μΈν„°λ½νΈ
- ν”„λ΅κ·Έλ¨ λ‚΄μ—μ„ νΉλ³„ν• μ„λΉ„μ¤λ¥Ό μ”κµ¬ν•κ±°λ‚ κ°μ‹λ¥Ό λ©μ μΌλ΅ μλ„μ μΌλ΅ ν”„λ΅κ·Έλ¨μ΄ λ°μƒμ‹ν‚¨ νΉλ³„ν• λ…λ Ήμ–΄μ— μν•΄ λ°μƒλκΈ°λ„ ν•λ‹¤

### μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ μΆ…λ¥

- μμ™Έ μƒν™©
    - ν”„λ΅κ·Έλ¨μ΄ ν—μ©λμ§€ μ•μ€ μ—°μ‚°μ„ μν–‰ν•λ ¤ ν•  λ•, μλ™μ μΌλ΅ λ°μƒ
    - ν”„λ΅κ·Έλ¨ κ²€μ‚¬ μΈν„°λ½νΈ(Program check interrupt)
        - 0μΌλ΅ λ‚λ„λ” κ²½μ°
        - OverFlow / UnderFlow
        - νμ΄μ§€μ λ¶€μ¬
        - λ¶€λ‹Ήν• κΈ°μ–µμ¥μ†μ μ°Έμ΅° λ“±
    - μ΄μμ²΄μ λ” μμ™Έ μƒν™©μ΄ λ°μƒν–μ„ λ•, CPUμ μ μ–΄κ¶μ„ νλ“ν•΄ μ΄ μƒν™©μ— λ€ν• μ΅°μΉλ¥Ό μ·¨ν•λ‹¤
- System  Call
    - μ΄μμ²΄μ κ°€ μ κ³µν•λ” μ„λΉ„μ¤μ— λ€ν• ν”„λ΅κ·Έλλ° μΈν„°νμ΄μ¤ β†’ System call
    - System callμ„ μ‹¤ν–‰μ‹ν‚¤κΈ° μ„ν• CPU λ…λ Ήμ–΄β†’ Supervier Call
    - μ‚¬μ©μ ν”„λ΅μ„Έμ¤κ°€ μ΄μ μ²΄μ μ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•κΈ° μ„ν•΄ μ»¤λ„μ ν•¨μλ¥Ό νΈμ¶ν•λ” κ²ƒ
    - μ‚¬μ©μ ν”„λ΅μ„Έμ¤κ°€ μ§μ ‘ νΉκ¶ λ…λ Ήμ„ μν–‰ν•  μ μ—†μΌλ―€λ΅ μ‹μ¤ν… μ½ μ‚¬μ©

### μΈν„°λ½νΈμ™€ μ‹μ¤ν… μ½μ μ°¨μ΄μ 

- μ‹μ¤ν… μ½μ΄λ‚ μμ™Έ μƒν™©μ€ λ¨λ‘ μ‚¬μ©μ ν”„λ΅μ„Έμ¤λ΅λ¶€ν„° CPUμ μ μ–΄κ¶μ΄ μ΄μμ²΄μ μ—κ² μ΄μ–‘λμ–΄ μ²λ¦¬λλ”λ°, μ΄ κ³Όμ •μ— μΈν„°λ½νΈ λΌμΈμ„ μ„Έν…ν•μ—¬ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨ ν›„ μ μ–΄κ¶μ΄ λ„μ–΄κ°€κ² λλ―€λ΅ μ΄λ“¤λ„ λ„“μ€ μλ―Έμ—μ„λ” μΈν„°λ½νΈμ λ²”μ£Όμ— ν¬ν•¨ μ‹ν‚΄
- λ‹¨μ§€ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤λ” μ£Όμ²΄κ°€ ν•λ“μ›¨μ–΄ μ¥μΉκ°€ μ•„λ‹ μ†ν”„νΈμ›¨μ–΄ μ΄λ―€λ΅ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλΌκ³  λ¶€λ¦„
- λ€μ²΄λ΅ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ¥Ό μΈν„°λ½νΈλΌκ³  λ¶€λ¥Έλ‹¤

## μΈν„°λ½νΈ μ°μ„  μμ„

> μ „μ› μ΄μƒ > κΈ°κ³„ κ³ μ¥ > μ™Έλ¶€ μ‹ νΈ > ν”„λ΅κ·Έλ¨ μΈν„°λ½νΈ > SVC
> 
- μΌλ°μ μΌλ΅ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈκ°€ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ³΄λ‹¤ μ°μ„ μμ„κ°€ λ†’μ

![image.png](https://blog.kakaocdn.net/dn/bXN8JO/btrcrNOCdrX/p9yBaxaFeCQKL7VleUPKWk/img.png)
## μΈν„°λ½νΈ μ²λ¦¬ κ³Όμ •

![img1.daumcdn.png](https://blog.kakaocdn.net/dn/bpgPHt/btq5NcPlGTH/BRIMZzBQQMUDm6ojSqgK00/img.png)
![img1.daumcdn.png](https://blog.kakaocdn.net/dn/9h8PF/btq5L4qJsN9/J1dii0rfe0jqtRen1IaNS0/img.png)
1. λ…λ Ήμ–΄ μ‹¤ν–‰ λ‹¨κ³„λ¥Ό λ§μΉ  λ•λ§λ‹¤ μ¤‘μ•™μ²λ¦¬μ¥μΉλ” λ°λ³µμ μΌλ΅ μΈν„°λ½νΈ μ”μ²­μ΄ μλ”μ§€ ν™•μΈν•κ³  μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄
2. ν”„λ΅κ·Έλ¨ μν–‰ μ¤‘λ‹¨
    - ν„μ¬ μ§„ν–‰μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“ μ™„λ£
    - ν„μ¬ μν–‰μ¤‘μΈ λ…λ Ήμ μ™„λ£λ μ‹μ μ—μ„ μ¤‘λ‹¨
        - ν„μ¬μ μ£ΌκΈ°μ–µμ¥μΉ μ‚¬μ΄ν΄μ΄ λλ‚λ” μ‹μ μ΄ μ•„λ‹
3. CPUμ νΉμ λ μ§€μ¤ν„° μ¤‘, ν•μ΄λ“λ΅ μΈν„°λ½νΈ λ§μ¤ν¬ λΉ„νΈλ¥Ό λ³΄κ³  λ§μ¤ν¬ λλ©΄ μΈν„°λ½νΈ λ¬΄μ‹
4. μΈν„°λ½νΈ λ²΅ν„° μ½μ–΄ ISR(μΈν„°λ½νΈ μ„λΉ„μ¤  λ£¨ν‹΄) μ£Όμ†κ°’μ„ μ–»λ”λ‹¤
5. ISRλ΅ μ ν”„
    - PC(Program Counter, IP)μ— κΈ°μ–µλμ–΄ μλ” μ£Όμ†λ¥Ό μ•μ „ν• κ³³μ— κΈ°μ–µμ‹μΌμ„ λ³΄μ΅΄
6. ν„μ¬ μ§„ν–‰μ¤‘μΈ ν”„λ΅κ·Έλ¨μ λ μ§€μ¤ν„° λ€ν”Ό
7. μΈν„°λ½νΈ μ „μ²λ¦¬ μ‹¤ν–‰
    - μ›μΈ νλ‹¨
    - μ²λ¦¬ λ£¨ν‹΄(Intrrupt Processing Routine) νΈμ¶
8. μΈν„°λ½νΈ μ²λ¦¬ λ£¨ν‹΄ μν–‰
9. ν•΄λ‹Ή μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄, λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„° λ³µμ›
10. ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈ ν•΄μ 
11. IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µμ›

> PCμ κ°’μ„ μ•μ „ν• κ³³μ— κΈ°μ–µμ‹μΌ λ³΄μ΅΄ β†’ μ›μΈ νλ‹¨ β†’ IRPμ μν–‰
> 

### μΈν„°λ½νΈ λ²΅ν„°

- μ—¬λ¬κ°€μ§€ μΈν„°λ½νΈμ— λ€ν•΄ ν•΄λ‹Ή μΈν„°λ½νΈ λ°μƒμ‹ μ²λ¦¬ν•΄μ•Ό ν•  λ£¨ν‹΄(ISR)μ μ£Όμ†λ¥Ό λ³΄κ΄€ν•κ³  μλ” κ³µκ°„
- μΈν„°λ½νΈ λ²΅ν„° ν…μ΄λΈ”: μ£ΌκΈ°μ–µμ¥μΉμ νΉμ • μμ—­μ— μ—¬λ¬ κ°μ μΈν„°λ½νΈ λ²΅ν„°λ¥Ό λ¨μ•„λ†“μ€ μμ—­
- λ€λ¶€λ¶„μ CPUλ” μΈν„°λ½νΈ λ²΅ν„° ν…μ΄λΈ”μ„ κ°€μ§€κ³  μλ‹¤

### ISR

- μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄, μΈν„°λ½νΈ ν•Έλ“¤λ¬
- μΈν„°λ½νΈκ°€ μ ‘μλλ©΄ κ°κ°μ μΈν„°λ½νΈμ— λ€μ‘ν•μ—¬ νΉμ • κΈ°λ¥μ„ μ²λ¦¬ν•λ” κΈ°κ³„μ–΄ μ½”λ“ λ£¨ν‹΄
- μ‹¤ν–‰μ¤‘μ΄λ λ μ§€μ¤ν„°μ™€ PCλ¥Ό λ³΄κ΄€ν•¨μΌλ΅μ¨ CPUμ μƒνƒ λ³΄μ΅΄
- μΈν„°λ½νΈκ°€ ν•Έλ“¤λ§μ΄ μ™„λ£λλ©΄ μ΄μ „μ μƒνƒλ΅ λ³µκ·€

### ν΄λ§

- μ‚¬μ©μκ°€ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•΄ μ…λ ¥ ν•€μ κ°’μ„ κ³„μ† μ½μ–΄ λ³€ν™”λ¥Ό μ•μ•„λ‚΄λ” λ°©μ‹
- μΈν„°λ½νΈ μ”μ²­ ν”λκ·Έλ¥Ό μ°¨λ΅€λ΅ λΉ„κµν•μ—¬ μ°μ„ μμ„κ°€ κ°€μ¥ λ†’μ€ μΈν„°λ½νΈ μμ›μ„ μ°Ύμ•„ μ΄μ— λ§λ” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄ μν–‰
- λ§μ•½ μΈν„°λ½νΈ κΈ°λ¥μ΄ μ—†μ—λ‹¤λ©΄ μ»¨νΈλ΅¤λ¬λ” νΉμ •ν• μ–΄λ–¤ μΌμ„ ν•  μ‹κΈ°λ¥Ό μ•κΈ° μ„ν•΄ κ³„μ† μ²΄ν¬ν•¨
- ν΄λ§μ„ ν•λ” μ‹κ°„μ—λ” μ›λ ν•λ μΌμ— μ§‘μ¤‘ν•  μκ°€ μ—†κ² λμ–΄ λ§μ€ κΈ°λ¥μ„ μν–‰ν•μ§€ λ»ν•λ” λ‹¨μ 
- ν•λ“μ›¨μ–΄μ— λΉ„ν•΄ μ†λ„κ°€ λλ¦Ό

### μΈν„°λ½νΈ λ°©μ‹

- MCU(λ§μ΄ν¬λ΅ μ»¨νΈλ΅¤λ¬) μμ²΄κ°€ ν•λ“μ›¨μ–΄μ μΌλ΅ λ³€ν™”λ¥Ό μ²΄ν¬ν•μ—¬ λ³€ν™”μ‹μ—λ§ μΌμ •ν• λ™μ‘μ„ ν•λ” λ°©μ‹
- μΈν„°λ½νΈ λ°©μ‹μ€ ν•λ“μ›¨μ–΄λ΅ μ§€μ›μ„ λ°›μ•„μ•Ό ν•λ” μ μ•½μ΄ μμ§€λ§, ν΄λ§μ— λΉ„ν•΄ μ‹ μ†ν•κ² λ€μ‘κ°€λ¥
- μ‹¤μ‹κ°„ λ€μ‘μ΄ ν•„μ”ν•  λ• ν•„μμ μΈ κΈ°λ¥
- μΈν„°λ½νΈλ” λ°μƒμ‹ν‚¤λ¥Ό μμΈ΅ν•κΈ° νλ“  κ²½μ°μ— μ»¨νΈλ΅¤λ¬κ°€ κ°€μ¥ λΉ λ¥΄κ² λ€μ‘ν•  μ μλ” λ°©λ²•

# μ§λ¬Έ

### ν΄λ§κ³Ό μΈν„°λ½νΈμ μ°¨μ΄

- ν΄λ§: λ€μƒμ„ μ£ΌκΈ°μ μΌλ΅ κ°μ‹ν•μ—¬ μƒν™©μ΄ λ°μƒν•λ©΄ ν•΄λ‹Ή μ²λ¦¬ λ£¨ν‹΄μ„ μ‹¤ν–‰ν•΄ μ²λ¦¬
- μΈν„°λ½νΈ: μƒλ€κ°€ λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„μ—κ² μΌμ„ μ²λ¦¬ν•΄λ‹¬λΌκ³  μ”μ²­ν•λ” μλ‹¨
- μΈν„°λ½νΈ λ°©μ‹μ€ ν•λ“μ›¨μ–΄λ΅ μ§€μ›μ„ λ°›μ•„μ•Ό ν•λ” μ μ•½μ΄ μμ§€λ§, ν΄λ§μ— λΉ„ν•΄ μ‹ μ†ν•κ² λ€μ‘ν•λ” κ²ƒμ΄ κ°€λ¥ λ”°λΌμ„ μ‹¤μ‹κ°„ λ€μ‘μ΄ ν•„μ”ν•  λ•λ” ν•„μμ μΈ κΈ°λ¥

### μΈν„°λ½νΈμ™€ νΈλ©μ μ°¨μ΄μ 

- μΈν„°λ½νΈ: ν•λ“μ›¨μ–΄μ  νλ¦„μ λ³€ν™”λ΅, ν”„λ΅κ·Έλ¨μ μ™Έλ¶€(I/O μ¥μΉ, λ””μ¤ν¬ λ“±)μ—μ„ λ°μƒν•λ©°, λ°μƒ μ‹μ μ΄ μΌμ •ν•μ§€ μ•κΈ° λ–„λ¬Έμ— λΉ„λ™κΈ°μ 
- νΈλ©: μ†ν”„νΈμ›¨μ–΄μ  νλ¦„μ λ³€ν™”λ΅ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλΌκ³ λ„ ν•λ‹¤. ν”„λ΅κ·Έλ¨ λ‚΄λ¶€μ—μ„ μΌμ–΄λ‚λ©° λ°μƒ μ‹μ μ΄ μΌμ •ν• μ§€μ μ΄κΈ° λ•λ¬Έμ— λ™κΈ°μ (κ³ μ •λ μμ—­μ—μ„ μΌμ–΄λ‚¨)

**μ°Έκ³ **

[[OS] Interrupt μΈν„°λ½νΈλ€?](https://doh-an.tistory.com/31)

[TTAμ •λ³΄ν†µμ‹ μ©μ–΄μ‚¬μ „](http://terms.tta.or.kr/dictionary/dictionaryView.do?subject=λ§μ¤ν¬+λ¶κ°€λ¥+μΈν„°λ½νΈ)

[μ†ν”„νΈμ›¨μ–΄μ™€ ν•λ“μ›¨μ–΄ - μΈν„°λ½νΈλ€?](https://huistorage.tistory.com/111)

[[OS] μΈν„°λ½νΈ, Interrupt](https://velog.io/@nnnyeong/OS-μΈν„°λ½νΈ-Interrupt)

[μΈν„°λ½νΈ(Interrupt)μ μΆ…λ¥μ™€ μ²λ¦¬κ³Όμ •](https://oizys.tistory.com/4)

[μΈν„°λ½νΈ μ²λ¦¬κ³Όμ • λ° μ •μ, μΆ…λ¥ μ•μ•„λ³΄κΈ°](https://mindstation.tistory.com/164)

[μΈν„°λ½νΈ(Interrupt)](https://gyeong-log.tistory.com/63)

[μΈν„°λ½νΈ(Interrupt) | π‘¨π»β€π’» Tech Interview](https://gyoogle.dev/blog/computer-science/operating-system/Interrupt.html)

[μΈν„°λ½νΈ(Interrupt)](https://gyeong-log.tistory.com/63)
